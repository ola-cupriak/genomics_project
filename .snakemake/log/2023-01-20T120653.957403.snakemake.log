Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 8
Rules claiming more threads will be scaled down.
Job stats:
job                count    min threads    max threads
---------------  -------  -------------  -------------
all                    1              1              1
build_consensus        1              1              1
build_supertree        1              1              1
build_trees            1              1              1
select_clusters        1              1              1
trees2onefile          1              1              1
total                  6              1              1

Select jobs to execute...

[Fri Jan 20 12:06:54 2023]
rule select_clusters:
    input: results/mmseq_res/mmseq_result_all05_all_seqs.fasta
    output: results/selected_clusters/all05_orto1to1random
    jobid: 4
    reason: Missing output files: results/selected_clusters/all05_orto1to1random
    wildcards: subset=all05, type=orto1to1random
    resources: tmpdir=/tmp

[Fri Jan 20 12:06:56 2023]
Finished job 4.
1 of 6 steps (17%) done
Select jobs to execute...

[Fri Jan 20 12:06:56 2023]
rule build_trees:
    input: results/selected_clusters/all05_orto1to1random
    output: results/msa_results/all05_orto1to1random, results/nj_trees/all05_orto1to1random
    jobid: 3
    reason: Missing output files: results/nj_trees/all05_orto1to1random; Input files updated by another job: results/selected_clusters/all05_orto1to1random
    wildcards: subset=all05, type=orto1to1random
    resources: tmpdir=/tmp

[Fri Jan 20 12:07:16 2023]
Finished job 3.
2 of 6 steps (33%) done
Select jobs to execute...

[Fri Jan 20 12:07:16 2023]
rule trees2onefile:
    input: results/nj_trees/all05_orto1to1random
    output: results/all05_orto1to1random_nb_trees1file.nwk
    jobid: 2
    reason: Missing output files: results/all05_orto1to1random_nb_trees1file.nwk; Input files updated by another job: results/nj_trees/all05_orto1to1random
    wildcards: subset=all05, type=orto1to1random, bootstrap=nb
    resources: tmpdir=/tmp

[Fri Jan 20 12:07:17 2023]
Finished job 2.
3 of 6 steps (50%) done
Select jobs to execute...

[Fri Jan 20 12:07:17 2023]
rule build_consensus:
    input: results/all05_orto1to1random_nb_trees1file.nwk
    output: results/all05_orto1to1random_nb_consensus.nwk
    jobid: 8
    reason: Missing output files: results/all05_orto1to1random_nb_consensus.nwk; Input files updated by another job: results/all05_orto1to1random_nb_trees1file.nwk
    wildcards: subset=all05, type=orto1to1random, bootstrap=nb
    resources: tmpdir=/tmp

[Fri Jan 20 12:07:17 2023]
rule build_supertree:
    input: results/all05_orto1to1random_nb_trees1file.nwk
    output: results/all05_orto1to1random_nb_supertree.nwk
    jobid: 1
    reason: Missing output files: results/all05_orto1to1random_nb_supertree.nwk; Input files updated by another job: results/all05_orto1to1random_nb_trees1file.nwk
    wildcards: subset=all05, type=orto1to1random, bootstrap=nb
    resources: tmpdir=/tmp

[Fri Jan 20 12:07:17 2023]
Error in rule build_supertree:
    jobid: 1
    input: results/all05_orto1to1random_nb_trees1file.nwk
    output: results/all05_orto1to1random_nb_supertree.nwk
    shell:
        
        var=$(fasturec -G results/all05_orto1to1random_nb_trees1file.nwk -Z | tail -1 | cut -d"-" -f2 | cut -d" " -f1)
        head -n 1 $var | cut -d' ' -f2 > results/all05_orto1to1random_nb_supertree.nwk
        rm $var
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

[Fri Jan 20 12:07:18 2023]
Error in rule build_consensus:
    jobid: 8
    input: results/all05_orto1to1random_nb_trees1file.nwk
    output: results/all05_orto1to1random_nb_consensus.nwk

RuleException:
CalledProcessError in file /home/ola/GENOMIKA/genomics_project/Snakefile, line 128:
Command 'set -euo pipefail;  Rscript --vanilla /home/ola/GENOMIKA/genomics_project/.snakemake/scripts/tmpnbb4mf4k.get_consensus.R' returned non-zero exit status 1.
  File "/home/ola/GENOMIKA/genomics_project/Snakefile", line 128, in __rule_build_consensus
  File "/home/ola/miniconda3/envs/tsg/lib/python3.10/concurrent/futures/thread.py", line 58, in run
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2023-01-20T120653.957403.snakemake.log
